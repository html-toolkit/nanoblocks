<html>
<head>
    <title>Events test</title>

    <link rel="stylesheet" href="../blocks/s/demo.css">
    <link rel="stylesheet" href="../blocks/s/all.css">

    <script type="text/javascript" src="http://yandex.st/jquery/1.7.1/jquery.js"></script>
    <script type="text/javascript" src="../nanoblocks.js"></script>
<body>
    <div data-nb="block-parent">
        <div class="inner" data-nb="block1 block2"></div>
    </div>

    <script type="text/javascript">
        var result = [];

        nb.define('block1', {
            events: {
                click: function onClickBlock1() {
                    result.push(this.name);
                    return false;
                }
            }
        });

        nb.define('block2', {
            events: {
                click: function onClickBlock2() {
                    result.push(this.name);
                }
            }
        });

        nb.define('block-parent', {
            events: {
                click: function() {
                    result.push(this.name);
                }
            }
        });

        // Run test.
        $('.inner').trigger('click');

        // Check test result.
        if ( result.join(',') !== 'block1,block2' ) {
            alert('FAIL: ' + result);
        } else {
            console.log('test ok: ', result);
        }

    </script>
</body>
</html>
